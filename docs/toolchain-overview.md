# Toolchain Overview

RISC-V，作为一个较新的ISA，从未被实现过。因此想要在现有工具链上进行开发，读者有必要熟悉工具链中众多的workaround和undocumented features。

## RISC-V Tools

官方的[riscv-tools](https://github.com/riscv/riscv-tools)由以下部分组成

* `riscv-gnu-toolchain`, a RISC-V cross-compiler
* `riscv-fesvr`, a "front-end" server that services calls between the host and target processors on the Host-Target InterFace (HTIF) (it also provides a virtualized console and disk device)
* `riscv-isa-sim`, the ISA simulator and "golden standard" of execution
* `riscv-opcodes`, the enumeration of all RISC-V opcodes executable by the simulator
* `riscv-pk`, a proxy kernel that services system calls generated by code built and linked with the RISC-V Newlib port (this does not apply to Linux, as _it_ handles the system calls)
* `riscv-tests`, a set of assembly tests and benchmarks


下面简要介绍这些工具主要的undocumented features，详细内容请参阅各个lab的移植文档。

| Tool                | Features                                 |
| ------------------- | ---------------------------------------- |
| riscv-gnu-toolchain | 编译时使用`-b binary`选项导致ld发生`segmentation fault` |
| riscv-fesvr         | 不存在所谓的`disk device`                      |
| riscv-isa-sim       | `rdtime`指令未实现，运行速度2MHz                   |
| riscv-pk            | proxy kernel不支持32位程序，存在大量workaround      |